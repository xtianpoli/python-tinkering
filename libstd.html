<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>La bibliothèque standard en bref &mdash; Introduction à la programmation en Python</title>
    
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="top" title="Introduction à la programmation en Python" href="index.html" />
    <link rel="next" title="Les tests" href="tests.html" />
    <link rel="prev" title="L’approche objet" href="objet.html" /> 
  </head>
  <body>
   <!--  add javascript -->
    
   <script type="text/javascript">
     (function(){

     })();
   </script>

    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="tests.html" title="Les tests"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="objet.html" title="L’approche objet"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">Introduction à la programmation en Python</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="la-bibliotheque-standard-en-bref">
<h1>La bibliothèque standard en bref<a class="headerlink" href="#la-bibliotheque-standard-en-bref" title="Permalink to this headline">¶</a></h1>
<p>Il s&#8217;agit d&#8217;un simple aperçu, partiel et partial, de quelques fonctions avec les paramètres les plus courants dans le but de donner un avant goût des possibilités de cette bibliothèque, très riche. Il est donc fortement conseillé de consulter constamment la documentation de référence pour une utilisation correcte de la bibliothèque standard dans le processus de développement.</p>
<div class="section" id="la-manipulation-des-fichiers">
<h2>La manipulation des fichiers<a class="headerlink" href="#la-manipulation-des-fichiers" title="Permalink to this headline">¶</a></h2>
<p>Le type <strong>file</strong> est un des types prédéfinis en Python, déjà évoqué précédemment pour illustrer la structure <strong>with</strong>. Pour ouvrir un fichier, on utilise le plus souvent la fonction prédéfinie <em>open()</em>  à la place du constructeur <em>file()</em>. Il y a des différences notables entre les versions 2 et 3 au niveau de la signature de <em>open()</em>.</p>
<p>En Python 2.7.x:</p>
<div class="highlight-python"><div class="highlight"><pre>open(name[, mode[, buffering]])
</pre></div>
</div>
<ul class="simple">
<li>name : nom du fichier (absolut ou relatif au répertoire courant)</li>
<li>mode :<ul>
<li><strong>r</strong> : lecture (par défaut)</li>
<li><strong>w</strong> : écriture (en début du fichier). <strong>Avertissement:</strong> Si le fichier existe le contenu courant sera perdu.</li>
<li><strong>a</strong> : ajout (append) L&#8217;écriture se fera à la fin du fichier, s&#8217;il existe, sinon il sera créé.</li>
<li><strong>r+</strong>, <strong>w+</strong>, <strong>a+</strong> : ouverture en mise à jour(lecture/écriture). <strong>Avertissement:</strong> tout comme le <em>w</em>, le <em>w+</em> tronque le fichier, le contenu existant sera perdu.</li>
<li><strong>b</strong> : il s&#8217;additionne à un des flags précédents (ex: <em>rb</em>) et il signifie <em>binary</em> pour les systèmes qui en font la distinction par rapport au mode text.</li>
</ul>
</li>
<li>buffering : gestion de la zone mémoire &#8220;tampon&#8221;:<ul>
<li>0 : pas de mémoire tampon</li>
<li>1 : mode &#8220;ligne&#8221;</li>
<li>&gt; 1 : taille du tampon (en octets)</li>
<li>&lt; 0 : taille par défaut prévue par le système (et comportement par défaut de la fonction)</li>
</ul>
</li>
</ul>
<p>En Python 3.x:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="nb">open</span><span class="p">(</span><span class="nb">file</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s">&#39;r&#39;</span><span class="p">,</span> <span class="n">buffering</span><span class="o">=-</span><span class="mi">1</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">errors</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">newline</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">closefd</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">opener</span><span class="o">=</span><span class="bp">None</span><span class="p">)</span>
</pre></div>
</div>
<ul class="simple">
<li>file : peut être un chemin (comme précédemment) ou un descripteur de fichier. Si <em>file</em> est un descripteur, le fichier correspondant sera fermé par <em>close()</em>, sauf si <em>closefd=False</em></li>
<li>mode :<ul>
<li><strong>r</strong>, <strong>w</strong>, <strong>a</strong>, <strong>+</strong> : avec les significations décrites précédemment</li>
<li><strong>x</strong> création uniquement, erreur si le fichier existe déjà.  <em>(nouveauté Python 3.3)</em></li>
<li><strong>b</strong> : signification nouvelle car il implique que le résultat rendu sera de type <strong>bytes</strong> alors que par défaut (mode &#8220;texte&#8221;) le résultat est de type <strong>str</strong> ce qui signifie <strong>unicode</strong> en Python 3.x. En mode &#8220;texte&#8221;, l&#8217;encodage sera:<ul>
<li>celui prévu par <em>encoding</em> s&#8217;il est défini</li>
<li>celui fourni par <tt class="docutils literal"><span class="pre">locale.getpreferredencoding(False)</span></tt> dans le cas contraire</li>
</ul>
</li>
<li><strong>t</strong> mode &#8220;texte&#8221; (par défaut)</li>
</ul>
</li>
<li>encoding : encodage</li>
<li>errors : peut contenir une des chaînes:<ul>
<li>&#8216;strict&#8217; provoque une <em>ValueError</em> en cas de caractère non supportée (valeur par défaut)</li>
<li>&#8216;ignore&#8217; ignore les erreurs d&#8217;encodage avec le risque de perte de données</li>
<li>&#8216;replace&#8217; remplace les caractères en erreur par un marqueur (&#8216;?&#8217;)</li>
<li>&#8216;surrogateescape&#8217; représente les octets non reconnus par un point code dans la plage U+DC80 - U+DCFF</li>
<li>&#8216;xmlcharrefreplace&#8217; remplace les caractères non supportés  par l&#8217;encodage avec l&#8217;entité XML <em>&amp;#nn;</em> (en écriture seulement)</li>
<li>&#8216;backslashreplace&#8217;  remplace les caractères non supportés  par l&#8217;encodage avec les séquence d&#8217;échapement nnn</li>
</ul>
</li>
<li>newline : valeurs possibles None, &#8216;&#8217;, &#8216;\n&#8217;, &#8216;\r&#8217;, et &#8216;\r\n&#8217;</li>
<li>closefd : déjà évoqué pour &#8220;file&#8221;. Si &#8220;file&#8221; est un nom il est sans effet et il doit contenir la valeur par défaut.</li>
<li>opener : fonction utilisateur destiné à l&#8217;ouverture du fichier <em>(nouveauté Python 3.3)</em></li>
</ul>
<p><strong>Rappel:</strong></p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s">&quot;/tmp/fich.txt&quot;</span><span class="p">,</span><span class="s">&quot;w&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">fd</span><span class="p">:</span>
<span class="gp">... </span>    <span class="n">fd</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s">&quot;some text&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Est l&#8217;équivalent de:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">fd</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s">&quot;/tmp/fich.txt&quot;</span><span class="p">,</span><span class="s">&quot;w&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">try</span><span class="p">:</span>
<span class="gp">... </span>    <span class="n">fd</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s">&quot;some text&quot;</span><span class="p">)</span>
<span class="gp">... </span><span class="k">finally</span><span class="p">:</span>
<span class="gp">... </span>    <span class="n">fd</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</div>
<div class="section" id="les-autres-methodes-sur-les-fichiers">
<h3>Les autres méthodes sur les fichiers<a class="headerlink" href="#les-autres-methodes-sur-les-fichiers" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>read(size) : <em>size</em> exprime la quantité de données à lire : s&#8217;il est négatif ou absent tout le fichier sera lu</li>
<li>seek(offset,from_what) positionnement dans le fichier. <em>from_what</em> représente l&#8217;origine par rapport à laquelle l&#8217;offset est exprimé et peut prendre trois valeurs:<ul>
<li>0 : début du fichier</li>
<li>1 : la position courante dans le fichier</li>
<li>2 : fin du fichier</li>
</ul>
</li>
<li>tell() fournit la position courante dans le fichier</li>
</ul>
<p>Exemple:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">=</span><span class="nb">open</span><span class="p">(</span><span class="s">&quot;/tmp/testfile.txt&quot;</span><span class="p">,</span><span class="s">&quot;r+&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
<span class="go">&#39;01234567890123456789\n&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">seek</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
<span class="go">&#39;34567890123456789\n&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">seek</span><span class="p">(</span><span class="o">-</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
<span class="go">&#39;89\n&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">tell</span><span class="p">()</span>
<span class="go">21</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
<span class="go">&#39;&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">seek</span><span class="p">(</span><span class="o">-</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s">&quot;xy&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">seek</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s">&quot;ab&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">seek</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
<span class="go">&#39;01234ab78901234567xy\n&#39;</span>
<span class="go">&gt;&gt;&gt;</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="le-module-sys">
<h2>Le module <strong>sys</strong><a class="headerlink" href="#le-module-sys" title="Permalink to this headline">¶</a></h2>
<p>C&#8217;est le module, déjà évoqué dans les chapitres précédents, joue principalement deux rôles:</p>
<ul class="simple">
<li>il fournit au programme les moyens de base d&#8217;interagir avec son environnement d&#8217;exécution (entrées/sorties, arguments de la ligne de commande)</li>
<li>il donne au programme l&#8217;accès aux paramètres de l&#8217;interpréteur</li>
</ul>
<p>Le script suivant affiche les arguments de la ligne de commande:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="c">#!/usr/bin/env python</span>
<span class="kn">import</span> <span class="nn">sys</span>

<span class="k">for</span> <span class="n">pos</span><span class="p">,</span> <span class="n">arg</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">):</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;{}: {}&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">pos</span><span class="p">,</span> <span class="n">arg</span><span class="p">))</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>$ ./print_argv.py 66 abc
0: ./print_argv.py
1: 66
2: abc
</pre></div>
</div>
<p>Quelques autres attributs et fonctions de ce module, illustrés par des exemples:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">sys</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sys</span><span class="o">.</span><span class="n">executable</span>
<span class="go">&#39;/usr/bin/python&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sys</span><span class="o">.</span><span class="n">platform</span>
<span class="go">&#39;linux2&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sys</span><span class="o">.</span><span class="n">version</span>
<span class="go">&#39;2.7.3 (default, Sep 26 2013, 20:03:06) \n[GCC 4.6.3]&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sys</span><span class="o">.</span><span class="n">getdefaultencoding</span><span class="p">()</span>
<span class="go">&#39;ascii&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sys</span><span class="o">.</span><span class="n">modules</span> <span class="c"># les modules chargés par l&#39;interpréteur</span>
<span class="go">{&#39;copy_reg&#39;: &lt;module &#39;copy_reg&#39; from &#39;/usr/lib/python2.7/copy_reg.pyc&#39;&gt;, ....}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sys</span><span class="o">.</span><span class="n">path</span>
<span class="go">[&#39;&#39;, &#39;/usr/lib/python2.7&#39;, &#39;/usr/lib/python2.7/plat-linux2&#39;, &#39;/usr/lib/python2.7/lib-tk&#39;, &#39;/usr/lib/python2.7/lib-old&#39;, &#39;/usr/lib/python2.7/lib-dynload&#39;, &#39;/usr/local/lib/python2.7/dist-packages&#39;, &#39;/usr/lib/python2.7/dist-packages&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sys</span><span class="o">.</span><span class="n">stdout</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s">&quot;Un message&quot;</span><span class="p">)</span>
<span class="go">Un message&gt;&gt;&gt; sys.stdout.write(&quot;Un autre message \n&quot;)</span>
<span class="go">Un autre message</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sys</span><span class="o">.</span><span class="n">stderr</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s">&quot;Une erreur</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">)</span>
<span class="go">Une erreur</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="c"># fin de l&#39;exécution</span>
</pre></div>
</div>
</div>
<div class="section" id="l-interface-avec-le-systeme-d-exploitation">
<h2>L&#8217;interface avec le système d&#8217;exploitation<a class="headerlink" href="#l-interface-avec-le-systeme-d-exploitation" title="Permalink to this headline">¶</a></h2>
<p>Il s&#8217;agit des fonctionnalités souvent équivalentes aux commandes système usuelles. Elles se retrouvent dans plusieurs modules dont <strong>os</strong>, <strong>shutil</strong> et <strong>glob</strong></p>
<div class="section" id="le-module-os">
<h3>Le module <strong>os</strong><a class="headerlink" href="#le-module-os" title="Permalink to this headline">¶</a></h3>
<p>Ce module contient un grand nombre de fonctions permettant l&#8217;interaction avec le système d&#8217;exploitation.</p>
<div class="warning admonition">
<p class="first admonition-title">Avertissement</p>
<p class="last">Il est vivement déconseillé d&#8217;importer ce module par <tt class="docutils literal"><span class="pre">from</span> <span class="pre">os</span> <span class="pre">import</span> <span class="pre">*</span></tt> car la fonction <em>os.open()</em> va se substituer à la primitive <em>open()</em>, avec un comportement différent. L&#8217;utilisation de l&#8217;importation simple <tt class="docutils literal"><span class="pre">import</span> <span class="pre">os</span></tt> évite ce problème.</p>
</div>
<p>Pour illustrer quelques unes des fonctionnalités de ce module, une mise en perspective  d&#8217;opérations équivalentes réalisés en <em>shell</em> (bash) et en Python:</p>
<p>Accès à l&#8217;environnement (variable <em>PATH</em>) en <em>bash</em>:</p>
<div class="highlight-python"><div class="highlight"><pre>$ echo $PATH
/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/bin/X11:/usr/games
</pre></div>
</div>
<p>En Python:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s">&#39;PATH&#39;</span><span class="p">]</span>
<span class="go">&#39;/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/bin/X11:/usr/games&#39;</span>
</pre></div>
</div>
<p>Manipulation de répertoires en bash:</p>
<div class="highlight-python"><div class="highlight"><pre>poli@host:~$ cd /tmp
poli@host:/tmp$ mkdir testpy
poli@host:/tmp$ cd testpy/
poli@host:/tmp/testpy$ pwd
/tmp/testpy
poli@host:/tmp/testpy$ cd ..
poli@host:/tmp$ pwd
/tmp
poli@host:/tmp$ rmdir testpy
poli@host:/tmp$
</pre></div>
</div>
<p>L&#8217;équivalent en Python:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">os</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">os</span><span class="o">.</span><span class="n">chdir</span><span class="p">(</span><span class="s">&#39;/tmp/&#39;</span><span class="p">)</span> <span class="c"># &#39;cd /tmp&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">os</span><span class="o">.</span><span class="n">mkdir</span><span class="p">(</span><span class="s">&#39;testpy&#39;</span><span class="p">)</span> <span class="c"># &#39;mkdir testpy&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">os</span><span class="o">.</span><span class="n">chdir</span><span class="p">(</span><span class="s">&#39;testpy&#39;</span><span class="p">)</span> <span class="c"># &#39;cd testpy&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">os</span><span class="o">.</span><span class="n">getcwd</span><span class="p">()</span>        <span class="c"># &#39;pwd&#39;</span>
<span class="go">&#39;/tmp/testpy&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">os</span><span class="o">.</span><span class="n">chdir</span><span class="p">(</span><span class="s">&#39;..&#39;</span><span class="p">)</span>     <span class="c"># &#39;cd ..&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">os</span><span class="o">.</span><span class="n">getcwd</span><span class="p">()</span>        <span class="c"># &#39;pwd&#39;</span>
<span class="go">&#39;/tmp&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">os</span><span class="o">.</span><span class="n">rmdir</span><span class="p">(</span><span class="s">&#39;testpy&#39;</span><span class="p">)</span> <span class="c"># &#39;rmdir testpy&#39;</span>
</pre></div>
</div>
<p>Autres manipulations simples sur des fichiers en bash :</p>
<div class="highlight-python"><div class="highlight"><pre>$ ls /tmp/
keyring-uCfKvw  pulse-2L9K88eMlGn7  RewriteLog.log    testpy.txt
plugtmp         pulse-PKdhtXMmr18n  ssh-lPLxInqU2454
$ mv /tmp/testpy.txt /tmp/testpy2.txt
$ ls /tmp/
keyring-uCfKvw  pulse-2L9K88eMlGn7  RewriteLog.log    testpy2.txt
plugtmp         pulse-PKdhtXMmr18n  ssh-lPLxInqU2454
$ rm /tmp/testpy2.txt
$ ls /tmp/
keyring-uCfKvw  pulse-2L9K88eMlGn7  RewriteLog.log
plugtmp         pulse-PKdhtXMmr18n  ssh-lPLxInqU2454
</pre></div>
</div>
<p>Et leur équivalent en Python:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="s">&quot;/tmp/&quot;</span><span class="p">)</span> <span class="c"># &#39;ls /tmp/&#39; (&#39;ls&#39; -A plus précisément)</span>
<span class="go">[&#39;RewriteLog.log&#39;, &#39;testpy.txt&#39;, &#39;ssh-lPLxInqU2454&#39;, &#39;plugtmp&#39;, &#39;keyring-uCfKvw&#39;, &#39;pulse-PKdhtXMmr18n&#39;, &#39;pulse-2L9K88eMlGn7&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">os</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="s">&quot;/tmp/testpy.txt&quot;</span><span class="p">,</span> <span class="s">&quot;/tmp/testpy2.txt&quot;</span><span class="p">)</span> <span class="c"># &#39;mv /tmp/testpy.txt /tmp/testpy2.txt&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="s">&quot;/tmp/&quot;</span><span class="p">)</span> <span class="c"># &#39;ls /tmp/&#39;</span>
<span class="go">[&#39;RewriteLog.log&#39;, &#39;ssh-lPLxInqU2454&#39;, &#39;plugtmp&#39;, &#39;keyring-uCfKvw&#39;, &#39;pulse-PKdhtXMmr18n&#39;, &#39;testpy2.txt&#39;, &#39;pulse-2L9K88eMlGn7&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">os</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="s">&quot;/tmp/testpy2.txt&quot;</span><span class="p">)</span> <span class="c"># &#39;rm /tmp/testpy2.txt&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="s">&quot;/tmp/&quot;</span><span class="p">)</span>
<span class="go">[&#39;RewriteLog.log&#39;, &#39;ssh-lPLxInqU2454&#39;, &#39;plugtmp&#39;, &#39;keyring-uCfKvw&#39;, &#39;pulse-PKdhtXMmr18n&#39;, &#39;pulse-2L9K88eMlGn7&#39;]</span>
</pre></div>
</div>
<p>Autres fonctions utiles:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="s">&quot;dir1/dir2/.../cible&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>L&#8217;effet de cette fonction est équivalent à celui de la commande (Linux/Unix) <tt class="docutils literal"><span class="pre">mkdir</span> <span class="pre">-p</span> <span class="pre">...</span></tt> : elle crée le répertoire cible ainsi que tous les répertoires intermédiaires s&#8217;ils n&#8217;existent pas:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="s">&quot;/tmp/&quot;</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="s">&quot;/tmp/dir1&quot;</span><span class="p">)</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="s">&quot;/tmp/dir1/dir2/cible&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="s">&quot;/tmp/dir1&quot;</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="s">&quot;/tmp/dir1/dir2&quot;</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="s">&quot;/tmp/dir1/dir2/cible&quot;</span><span class="p">)</span>
<span class="go">True</span>
<span class="go">&gt;&gt;&gt;</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="n">os</span><span class="o">.</span><span class="n">walk</span><span class="p">(</span><span class="n">top</span><span class="p">,</span> <span class="n">topdown</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">onerror</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">followlinks</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
</pre></div>
</div>
<p>Cette fonction permet de parcourir une arborescence de fichiers ayant pour racine le répertoire <em>top</em>. Elle retourne un générateur qui fournit à chaque itération un triplet de valeurs contenant:</p>
<ul class="simple">
<li>le nom du répertoire courant</li>
<li>la liste des sous-répertoires directs</li>
<li>la liste des fichiers membres</li>
</ul>
<p>Les options:</p>
<ul class="simple">
<li>topdown :<ul>
<li>True : l&#8217;itération se fait à partir de la racine (valeur par défaut)</li>
<li>False: l&#8217;itération se fait à partir des &#8220;feuilles&#8221;</li>
</ul>
</li>
<li>onerror : None (par défaut) ou une fonction utilisateur qui sera appelée en cas d&#8217;erreur.</li>
<li>followlinks : suivi des liens symboliques (si <em>True</em>). Peut provoquer une récursion infinie en cas de liens cycliques</li>
</ul>
<p>Exemples:</p>
<ul>
<li><p class="first">top-down :</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">os</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">g</span><span class="o">=</span><span class="n">os</span><span class="o">.</span><span class="n">walk</span><span class="p">(</span><span class="s">&quot;/usr/local/lib/python2.7/dist-packages/&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">type</span><span class="p">(</span><span class="n">g</span><span class="p">)</span>
<span class="go">&lt;type &#39;generator&#39;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">next</span><span class="p">(</span><span class="n">g</span><span class="p">)</span>
<span class="go">(&#39;/usr/local/lib/python2.7/dist-packages/&#39;, [&#39;django_http_proxy-0.3.2-py2.7.egg&#39;, &#39;django_guardian-1.0.4-py2.7.egg&#39;, &#39;Whoosh-2.4.1-py2.7.egg&#39;, &#39;vnc2flv&#39;, &#39;codenode-0.02-py2.7.egg&#39;, &#39;django&#39;, &#39;easy_thumbnails-1.0.3-py2.7.egg&#39;, &#39;Twisted-12.3.0-py2.7-linux-x86_64.egg&#39;, &#39;django_userena-1.1.2-py2.7.egg&#39;, &#39;django_compress-1.0.1-py2.7.egg&#39;, &#39;django_passwords-0.2.0-py2.7.egg&#39;], [&#39;vnc2flv-20100207.egg-info&#39;, &#39;flvscreen.so&#39;, &#39;Django-1.5.4.egg-info&#39;, &#39;easy-install.pth&#39;])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">next</span><span class="p">(</span><span class="n">g</span><span class="p">)</span>
<span class="go">(&#39;/usr/local/lib/python2.7/dist-packages/django_http_proxy-0.3.2-py2.7.egg&#39;, [&#39;EGG-INFO&#39;, &#39;httpproxy&#39;], [])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">next</span><span class="p">(</span><span class="n">g</span><span class="p">)</span>
<span class="go">(&#39;/usr/local/lib/python2.7/dist-packages/django_http_proxy-0.3.2-py2.7.egg/EGG-INFO&#39;, [], [&#39;zip-safe&#39;, &#39;SOURCES.txt&#39;, &#39;PKG-INFO&#39;, &#39;dependency_links.txt&#39;, &#39;top_level.txt&#39;])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c"># etc...</span>
</pre></div>
</div>
</li>
<li><p class="first">bottom-up :</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">g</span><span class="o">=</span><span class="n">os</span><span class="o">.</span><span class="n">walk</span><span class="p">(</span><span class="s">&quot;/usr/local/lib/python2.7/dist-packages/&quot;</span><span class="p">,</span><span class="n">topdown</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">next</span><span class="p">(</span><span class="n">g</span><span class="p">)</span>
<span class="go">(&#39;/usr/local/lib/python2.7/dist-packages/django_http_proxy-0.3.2-py2.7.egg/EGG-INFO&#39;, [], [&#39;zip-safe&#39;, &#39;SOURCES.txt&#39;, &#39;PKG-INFO&#39;, &#39;dependency_links.txt&#39;, &#39;top_level.txt&#39;])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">next</span><span class="p">(</span><span class="n">g</span><span class="p">)</span>
<span class="go">(&#39;/usr/local/lib/python2.7/dist-packages/django_http_proxy-0.3.2-py2.7.egg/httpproxy&#39;, [], [&#39;views.pyc&#39;, &#39;settings.pyc&#39;, &#39;recorder.py&#39;, &#39;__init__.py&#39;, &#39;exceptions.pyc&#39;, &#39;views.py&#39;, &#39;settings.py&#39;, &#39;decorators.py&#39;, &#39;models.pyc&#39;, &#39;recorder.pyc&#39;, &#39;models.py&#39;, &#39;admin.py&#39;, &#39;__init__.pyc&#39;, &#39;admin.pyc&#39;, &#39;decorators.pyc&#39;, &#39;exceptions.py&#39;])</span>
<span class="go">&gt;&gt;&gt;</span>
</pre></div>
</div>
</li>
</ul>
<div class="warning admonition">
<p class="first admonition-title">A manipuler avec précaution</p>
<blockquote class="last">
<div><ul class="simple">
<li>remove(path) supprime le fichier</li>
<li>rmdir(path) supprime le répertoire s&#8217;il est vide</li>
</ul>
</div></blockquote>
</div>
</div>
<div class="section" id="le-module-os-path">
<h3>Le module <strong>os.path</strong><a class="headerlink" href="#le-module-os-path" title="Permalink to this headline">¶</a></h3>
<p>Ce module est dédié à la manipulation des chemins dans le système de fichiers.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">os</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">os</span><span class="o">.</span><span class="n">getcwd</span><span class="p">()</span>
<span class="go">&#39;/usr/lib/python2.7&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">os.path</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">abspath</span><span class="p">(</span><span class="s">&quot;code.py&quot;</span><span class="p">)</span> <span class="c"># construit le chemin absolue en fonction de l&#39;emplacement courant</span>
<span class="go">&#39;/usr/lib/python2.7/code.py&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">basename</span><span class="p">(</span><span class="s">&#39;/usr/lib/python2.7/code.py&#39;</span><span class="p">)</span> <span class="c"># ~ basename cmd</span>
<span class="go">&#39;code.py&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="s">&#39;/usr/lib/python2.7/code.py&#39;</span><span class="p">)</span> <span class="c"># ~ dirname cmd</span>
<span class="go">&#39;/usr/lib/python2.7&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">&#39;/usr/lib/python2.7/code.py&#39;</span><span class="p">)</span> <span class="c"># (dirname, basename)</span>
<span class="go">(&#39;/usr/lib/python2.7&#39;, &#39;code.py&#39;)</span>
</pre></div>
</div>
<p>Les fonction suivantes permettent de tester le type d&#8217;objet (répertoire, fichier, lien etc.) désigné par un chemin:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="s">&#39;/usr/lib/python2.7/code.py&#39;</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="s">&#39;/usr/lib/python2.7/foobar.py&#39;</span><span class="p">)</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isfile</span><span class="p">(</span><span class="s">&#39;/usr/lib/python2.7/code.py&#39;</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isdir</span><span class="p">(</span><span class="s">&#39;/usr/lib/python2.7/code.py&#39;</span><span class="p">)</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isdir</span><span class="p">(</span><span class="s">&#39;/usr/lib/python2.7&#39;</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">islink</span><span class="p">(</span><span class="s">&#39;/usr/lib/python2.7/code.py&#39;</span><span class="p">)</span>
<span class="go">False</span>
<span class="go">&gt;&gt;&gt;</span>
</pre></div>
</div>
<p>Pour la portabilité, il est préférable d&#8217;utiliser <em>os.path.join(...)</em> pour construire des chemins:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s">&#39;/tmp&#39;</span><span class="p">,</span><span class="s">&#39;foo&#39;</span><span class="p">,</span><span class="s">&#39;bar&#39;</span><span class="p">)</span>
<span class="go">&#39;/tmp/foo/bar&#39;</span>
</pre></div>
</div>
<div class="warning admonition">
<p class="first admonition-title">Attention</p>
<p class="last">Si un chemin absolu est fourni, tous les éléments qui le précédent sont ignorés silencieusement:</p>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s">&#39;tmp&#39;</span><span class="p">,</span><span class="s">&#39;/foo&#39;</span><span class="p">,</span><span class="s">&#39;bar&#39;</span><span class="p">)</span>
<span class="go">&#39;/foo/bar&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s">&#39;/tmp&#39;</span><span class="p">,</span><span class="s">&#39;/foo&#39;</span><span class="p">,</span><span class="s">&#39;bar&#39;</span><span class="p">)</span>
<span class="go">&#39;/foo/bar&#39;</span>
<span class="go">&gt;&gt;&gt;</span>
</pre></div>
</div>
<p>La fonction <tt class="docutils literal"><span class="pre">os.path.normpath()</span></tt> élimine les redondances pour ramener le chemin au format &#8220;canonique&#8221;:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">normpath</span><span class="p">(</span><span class="s">&#39;/usr/../usr/lib//python2.7/./code.py&#39;</span><span class="p">)</span>
<span class="go">&#39;/usr/lib/python2.7/code.py&#39;</span>
<span class="go">&gt;&gt;&gt;</span>
</pre></div>
</div>
<p><strong>NB:</strong> Sous Windows cette fonction transforme les <strong>/</strong> en <strong>\</strong>. Pour les OS &#8220;case insesitive&#8221; la fonction <em>os.path.normcase()</em> permet de passer les noms en minuscules.</p>
</div>
<div class="section" id="utilisation-du-caractere-joker">
<h3>Utilisation du caractère &#8220;joker&#8221;<a class="headerlink" href="#utilisation-du-caractere-joker" title="Permalink to this headline">¶</a></h3>
<p>La fonction <em>glob.glob()</em> permet de lister le contenu d&#8217;un répertoire avec un filtre:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">glob</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">glob</span><span class="o">.</span><span class="n">glob</span><span class="p">(</span><span class="s">&quot;/usr/lib/python2.7/b*py&quot;</span><span class="p">)</span>
<span class="go">[&#39;/usr/lib/python2.7/binhex.py&#39;, &#39;/usr/lib/python2.7/bdb.py&#39;, &#39;/usr/lib/python2.7/base64.py&#39;, &#39;/usr/lib/python2.7/bisect.py&#39;]</span>
</pre></div>
</div>
</div>
<div class="section" id="des-fonctions-de-plus-haut-niveau">
<h3>Des fonctions de plus haut niveau<a class="headerlink" href="#des-fonctions-de-plus-haut-niveau" title="Permalink to this headline">¶</a></h3>
<p>Le module <em>shutil</em> fournit des fonctions de manipulation de fichiers (copie, suppression) d&#8217;un niveau d&#8217;abstraction plus proche des commandes système.</p>
<table border="1" class="docutils">
<colgroup>
<col width="29%" />
<col width="71%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Fonction</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>shutil.copy(src, dst)</td>
<td>Copie un fichier avec les permissions. <em>dst</em> peut être un répertoire</td>
</tr>
<tr class="row-odd"><td>shutil.copymode(src, dst)</td>
<td>Copie les permissions <strong>seules</strong> entre <em>src</em> et <em>dst</em></td>
</tr>
<tr class="row-even"><td>shutil.copystat(src, dst)</td>
<td>Copie les permissions+infos temps(dernier accès/modification)+flags</td>
</tr>
<tr class="row-odd"><td>shutil.copy2(src, dst)</td>
<td>Équivalent copy() + copystat()</td>
</tr>
</tbody>
</table>
<p><strong>NB:</strong> shutil contient d&#8217;autres fonctions puissantes, permettant la copie et la suppression d&#8217;arborescences de fichiers, à manipuler avec précaution.</p>
</div>
</div>
<div class="section" id="les-sous-processus">
<h2>Les (sous)processus<a class="headerlink" href="#les-sous-processus" title="Permalink to this headline">¶</a></h2>
<p>Les situations les plus courantes nécessitant le lancement des nouveaux processus sont traitées par quelques fonctions du module <strong>subprocess</strong> :</p>
<div class="highlight-python"><div class="highlight"><pre>subprocess.call(args, *, stdin=None, stdout=None, stderr=None, shell=False, timeout=None) # timeout existe seulement en version 3.x
</pre></div>
</div>
<p>C&#8217;est une signature abrégée, le deuxième paramètre <tt class="docutils literal"><span class="pre">*</span></tt> symbolise des paramètres moins utilisés qui ne seront pas discutés ici.</p>
<ul class="simple">
<li>args : représente la commande à exécuter. Peut être une liste ou une chaîne de caractères</li>
<li>stdin, stdout, stderr : redirection possible des entrées/sorties standard</li>
<li>shell : si <tt class="docutils literal"><span class="pre">shell=True</span></tt> la commande sera exécutée par le <em>shell</em></li>
</ul>
<div class="warning admonition">
<p class="first admonition-title">Avertissement</p>
<p class="last">L&#8217;argument shell=True représente un risque important en terme de sécurité en particulier en présence d&#8217;entrées non fiables. Son utilisation est <em>vivement déconseillée</em>.</p>
</div>
<p>Cette fonction:</p>
<ul class="simple">
<li>exécute la commande exprimée par args</li>
<li>attend la fin de l&#8217;exécution</li>
<li>renvoie le code de retour système</li>
</ul>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">subprocess</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="s">&quot;ls&quot;</span><span class="p">)</span>
<span class="go">controller  __init__.py  __init__.pyc  model  view</span>
<span class="go">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">subprocess</span><span class="o">.</span><span class="n">call</span><span class="p">([</span><span class="s">&quot;ls&quot;</span><span class="p">,</span> <span class="s">&quot;view&quot;</span><span class="p">])</span>
<span class="go">admviews.py   appviews1.py   appviews1.pyc  appviews2.pyc  __init__.pyc</span>
<span class="go">admviews.pyc  appviews1.py~  appviews2.py   __init__.py</span>
<span class="go">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">subprocess</span><span class="o">.</span><span class="n">call</span><span class="p">([</span><span class="s">&quot;ls&quot;</span><span class="p">,</span><span class="s">&quot;-l&quot;</span><span class="p">,</span> <span class="s">&quot;/tmp/locked.txt&quot;</span><span class="p">])</span>
<span class="go">---------- 1 poli poli 0 mars  11 15:44 /tmp/locked.txt</span>
<span class="go">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">subprocess</span><span class="o">.</span><span class="n">call</span><span class="p">([</span><span class="s">&quot;cat&quot;</span><span class="p">,</span> <span class="s">&quot;/tmp/locked.txt&quot;</span><span class="p">])</span>
<span class="go">cat: /tmp/locked.txt: Permission non accordée</span>
<span class="go">1</span>
<span class="go">&gt;&gt;&gt;</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>subprocess.check_call(args, *, stdin=None, stdout=None, stderr=None, shell=False, timeout=None) # timeout existe seulement en version 3.x
</pre></div>
</div>
<p>Effectue le même traitement que <em>subprocess.call()</em> mais lève une exception si le code de retour est <em>!=0</em></p>
<div class="highlight-python"><div class="highlight"><pre>&gt;&gt;&gt; subprocess.check_call([&quot;cat&quot;, &quot;/tmp/locked.txt&quot;])
cat: /tmp/locked.txt: Permission non accordée
Traceback (most recent call last):
File &quot;&lt;stdin&gt;&quot;, line 1, in &lt;module&gt;
File &quot;/usr/lib/python2.7/subprocess.py&quot;, line 511, in check_call
raise CalledProcessError(retcode, cmd)
subprocess.CalledProcessError: Command &#39;[&#39;cat&#39;, &#39;/tmp/locked.txt&#39;]&#39; returned non-zero exit status 1
&gt;&gt;&gt;
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>subprocess.check_output(args, *, stdin=None, stdout=None, stderr=None, shell=False, timeout=None) # timeout existe seulement en version 3.x
</pre></div>
</div>
<p>Effectue le même traitement que <tt class="docutils literal"><span class="pre">subprocess.check_call()</span></tt> mais retourne la sortie standard:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">subprocess</span><span class="o">.</span><span class="n">check_output</span><span class="p">([</span><span class="s">&quot;echo&quot;</span><span class="p">,</span> <span class="s">&quot;Hello&quot;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span>
<span class="go">&#39;Hello\n&#39;</span>
<span class="go">&gt;&gt;&gt;</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Des utilisation avancées de ce module, qui dépassent le cadre de cette introduction, passent par l&#8217;utilisation directe de la classe <strong>subprocess.Popen</strong></p>
</div>
</div>
<div class="section" id="le-module-platform">
<h2>Le module <strong>platform</strong><a class="headerlink" href="#le-module-platform" title="Permalink to this headline">¶</a></h2>
<p>Comme son nom l&#8217;indique ce module fournit des informations sur la plateforme :</p>
<ul class="simple">
<li>Architecture : platform.architecture(executable=&#8217;/usr/bin/...&#8217;)</li>
<li>Type de matériel : platform.machine()</li>
<li>Nom réseau de l’hôte : platform.node()</li>
<li>Chaîne de caractère contenant système, release, type de machine etc. : platform.platform()</li>
<li>Nom du processeur : platform.processor()</li>
<li>Infos système (nom,version,release) du système : platform.system(), platform.version(), platform.release()</li>
<li>Infos sur l’interpréteur : python_build(), python_compiler(), python_version()</li>
</ul>
</div>
<div class="section" id="l-acces-a-internet-en-http">
<h2>L&#8217;accès à Internet en http<a class="headerlink" href="#l-acces-a-internet-en-http" title="Permalink to this headline">¶</a></h2>
<p>Un module simple permettant de faire des requêtes <em>http</em> est <em>urllib2</em>. Pour une utilisation basique il suffit de passer une <em>url</em> en argument à la fonction <em>urlopen()</em> qui retournera un itérateur qui permet de récupérer le résultat, ligne par ligne:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">urllib2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">i</span> <span class="o">=</span> <span class="n">urllib2</span><span class="o">.</span><span class="n">urlopen</span><span class="p">(</span><span class="s">&quot;http://example.org&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">next</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
<span class="go">&#39;&lt;!doctype html&gt;\n&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">next</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
<span class="go">&#39;&lt;html&gt;\n&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">next</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
<span class="go">&#39;&lt;head&gt;\n&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c"># ...</span>
</pre></div>
</div>
<p>On peut également récupérer le résultat d&#8217;un coup:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">urllib2</span><span class="o">.</span><span class="n">urlopen</span><span class="p">(</span><span class="s">&quot;http://example.org&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
<span class="go">&#39;&lt;!doctype html&gt;\n&lt;html&gt;\n&lt;head&gt;\n ...</span>
</pre></div>
</div>
</div>
<div class="section" id="compression-des-donnees">
<h2>Compression des données<a class="headerlink" href="#compression-des-donnees" title="Permalink to this headline">¶</a></h2>
<p>Les formats courants sont supportés:</p>
<ul class="simple">
<li>zlib</li>
<li>gzip</li>
<li>bz2</li>
<li>zipfile</li>
<li>tarfile</li>
</ul>
<p>Illustration, avec une belle citation de <em>Boby Lapointe</em> :</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">zlib</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">citation</span> <span class="o">=</span> <span class="s">&quot;Davantage d&#39;avantages avantagent davantage.&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">citation</span><span class="p">)</span>
<span class="go">43</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">zipped</span> <span class="o">=</span> <span class="n">zlib</span><span class="o">.</span><span class="n">compress</span><span class="p">(</span><span class="n">citation</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">zipped</span><span class="p">)</span>
<span class="go">32</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">zlib</span><span class="o">.</span><span class="n">decompress</span><span class="p">(</span><span class="n">zipped</span><span class="p">)</span>
<span class="go">&quot;Davantage d&#39;avantages avantagent davantage.&quot;</span>
<span class="go">&gt;&gt;&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="configparser-et-json">
<h2><strong>ConfigParser</strong> et <strong>json</strong><a class="headerlink" href="#configparser-et-json" title="Permalink to this headline">¶</a></h2>
<p><em>Configparser</em>, renommé <em>configparser</em> en version 3, permet de créer et parser des fichiers de configuration de type <strong>.ini</strong>, <strong>.cfg</strong> etc., assez répandus dans tous les environnements.</p>
<p>Création d&#8217;un fichier de configuration (pour un logiciel imaginaire):</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">ConfigParser</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">conf</span> <span class="o">=</span> <span class="n">ConfigParser</span><span class="o">.</span><span class="n">RawConfigParser</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">conf</span><span class="o">.</span><span class="n">add_section</span><span class="p">(</span><span class="s">&quot;ClientSide&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">conf</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s">&quot;ClientSide&quot;</span><span class="p">,</span><span class="s">&quot;buffer&quot;</span><span class="p">,</span><span class="mi">1000</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">conf</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s">&quot;ClientSide&quot;</span><span class="p">,</span><span class="s">&quot;timeout&quot;</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">conf</span><span class="o">.</span><span class="n">add_section</span><span class="p">(</span><span class="s">&quot;ServerSide&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">conf</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s">&quot;ServerSide&quot;</span><span class="p">,</span><span class="s">&quot;db&quot;</span><span class="p">,</span><span class="s">&quot;mysql&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">conf</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s">&quot;ServerSide&quot;</span><span class="p">,</span><span class="s">&quot;logs&quot;</span><span class="p">,</span><span class="s">&quot;/var/log/mysrv&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s">&quot;myconf.cfg&quot;</span><span class="p">,</span><span class="s">&quot;w&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">fd</span><span class="p">:</span>
<span class="gp">... </span>    <span class="n">conf</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">fd</span><span class="p">)</span>
</pre></div>
</div>
<p>Résultat :</p>
<div class="highlight-python"><div class="highlight"><pre>$ cat myconf.cfg
[ClientSide]
buffer = 1000
timeout = 10

[ServerSide]
db = mysql
logs = /var/log/mysrv
</pre></div>
</div>
<p>Pour parser le fichier de configuration précédent:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">conf</span> <span class="o">=</span> <span class="n">ConfigParser</span><span class="o">.</span><span class="n">RawConfigParser</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">conf</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="s">&quot;myconf.cfg&quot;</span><span class="p">)</span>
<span class="go">[&#39;myconf.cfg&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">conf</span><span class="o">.</span><span class="n">getint</span><span class="p">(</span><span class="s">&quot;ClientSide&quot;</span><span class="p">,</span><span class="s">&quot;buffer&quot;</span><span class="p">)</span>
<span class="go">1000</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">conf</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&quot;ServerSide&quot;</span><span class="p">,</span><span class="s">&quot;db&quot;</span><span class="p">)</span>
<span class="go">&#39;mysql&#39;</span>
</pre></div>
</div>
<p><em>JSON</em>, acronyme de <em>JavaScript Object Notation</em>, est un format d&#8217;échange très utilisé. Les structures de données <em>JavaScript</em> étant assez proches de celles de Python (listes, dictionnaires), l&#8217;utilisation de <em>JSON</em> est très intuitive;</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">json</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">some_data</span> <span class="o">=</span> <span class="p">{</span><span class="s">&#39;a&#39;</span><span class="p">:</span><span class="mi">3</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">:[</span><span class="mi">5</span><span class="p">,</span><span class="s">&#39;xyz&#39;</span><span class="p">]}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">some_data</span><span class="p">)</span>
<span class="go">&#39;{&quot;a&quot;: 3, &quot;b&quot;: [5, &quot;xyz&quot;]}&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">txt</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">some_data</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">type</span><span class="p">(</span><span class="n">txt</span><span class="p">)</span>
<span class="go">&lt;type &#39;str&#39;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">txt</span><span class="p">)</span>
<span class="go">{u&#39;a&#39;: 3, u&#39;b&#39;: [5, u&#39;xyz&#39;]}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">txt</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">type</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="mesure-des-performances">
<h2>Mesure des performances<a class="headerlink" href="#mesure-des-performances" title="Permalink to this headline">¶</a></h2>
<p>Le module <em>timeit</em> offre un moyen simple pour comparer des performances entre plusieurs implémentations d&#8217;une fonctionnalités, plusieurs approches d&#8217;un même problème etc.</p>
<p>Par exemple, on peut comparer le temps nécessaire pour la construction d&#8217;une liste de 100 éléments avec le temps pour construire un générateur équivalent:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">timeit</span> <span class="kn">import</span> <span class="n">Timer</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Timer</span><span class="p">(</span><span class="s">&#39;[e**2 for e in xrange(1,100)]&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">timeit</span><span class="p">()</span>
<span class="go">9.104944229125977</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Timer</span><span class="p">(</span><span class="s">&#39;(e**2 for e in xrange(1,100))&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">timeit</span><span class="p">()</span>
<span class="go">0.6118359565734863</span>
</pre></div>
</div>
<p>...et le temps pour fabriquer la liste indirectement, en passant par la fabrication du dit générateur:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">Timer</span><span class="p">(</span><span class="s">&#39;list((e**2 for e in xrange(1,100)))&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">timeit</span><span class="p">()</span>
<span class="go">10.48848009109497</span>
</pre></div>
</div>
</div>
<div class="section" id="le-module-math">
<h2>Le module <strong>math</strong><a class="headerlink" href="#le-module-math" title="Permalink to this headline">¶</a></h2>
<p>Fournit des fonctions de base en théorie des nombres, logarithmes, trigonométrie, conversions d&#8217;angles etc:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">math</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">math</span><span class="o">.</span><span class="n">tan</span><span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">pi</span><span class="o">/</span><span class="mi">4</span><span class="p">)</span>
<span class="go">0.9999999999999999</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">math</span><span class="o">.</span><span class="n">pi</span>
<span class="go">3.141592653589793</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">math</span><span class="o">.</span><span class="n">e</span>
<span class="go">2.718281828459045</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">math</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">e</span><span class="o">**</span><span class="mi">3</span><span class="p">)</span> <span class="c"># logarithme naturel (appel à 1 seul argument)</span>
<span class="go">3.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">math</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="mi">1000</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span> <span class="c"># 2 args, équivalent  log(x)/log(10)</span>
<span class="go">2.9999999999999996</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">math</span><span class="o">.</span><span class="n">log10</span><span class="p">(</span><span class="mi">1000</span><span class="p">)</span> <span class="c"># log décimal, plus précis que log(x,10)</span>
<span class="go">3.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">math</span><span class="o">.</span><span class="n">radians</span><span class="p">(</span><span class="mi">90</span><span class="p">)</span> <span class="c"># pi/2</span>
<span class="go">1.5707963267948966</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">math</span><span class="o">.</span><span class="n">degrees</span><span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">pi</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span>
<span class="go">90.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c"># etc.</span>
<span class="gp">...</span>
</pre></div>
</div>
</div>
<div class="section" id="le-module-random">
<h2>Le module <strong>random</strong><a class="headerlink" href="#le-module-random" title="Permalink to this headline">¶</a></h2>
<p>Fournit des générateurs de nombres pseudo-aléatoires.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">random</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">()</span>
<span class="go">0.28578533604922873</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">random</span><span class="o">.</span><span class="n">randrange</span><span class="p">(</span><span class="mi">16</span><span class="p">)</span>
<span class="go">15</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">random</span><span class="o">.</span><span class="n">randrange</span><span class="p">(</span><span class="mi">16</span><span class="p">)</span>
<span class="go">10</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="s">&quot;abc&quot;</span><span class="p">)</span>
<span class="go">&#39;c&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="s">&quot;abc&quot;</span><span class="p">)</span>
<span class="go">&#39;a&#39;</span>
<span class="go">&gt;&gt;&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="les-expressions-rationnelles-ou-regulieres">
<h2>Les expressions rationnelles (ou régulières)<a class="headerlink" href="#les-expressions-rationnelles-ou-regulieres" title="Permalink to this headline">¶</a></h2>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="s">r&#39;\bon[a-z]*&#39;</span><span class="p">,</span> <span class="s">&#39;There should be one-- and preferably only one --obvious way to do it.&#39;</span><span class="p">)</span>
<span class="go">[&#39;one&#39;, &#39;only&#39;, &#39;one&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">prog</span><span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="s">r&#39;\bon[a-z]*&#39;</span><span class="p">)</span> <span class="c"># avec un motif compilé</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">prog</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="s">&#39;There should be one-- and preferably only one --obvious way to do it. (Tim Peters)&#39;</span><span class="p">)</span>
<span class="go">[&#39;one&#39;, &#39;only&#39;, &#39;one&#39;]</span>
</pre></div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">La bibliothèque standard en bref</a><ul>
<li><a class="reference internal" href="#la-manipulation-des-fichiers">La manipulation des fichiers</a><ul>
<li><a class="reference internal" href="#les-autres-methodes-sur-les-fichiers">Les autres méthodes sur les fichiers</a></li>
</ul>
</li>
<li><a class="reference internal" href="#le-module-sys">Le module <strong>sys</strong></a></li>
<li><a class="reference internal" href="#l-interface-avec-le-systeme-d-exploitation">L&#8217;interface avec le système d&#8217;exploitation</a><ul>
<li><a class="reference internal" href="#le-module-os">Le module <strong>os</strong></a></li>
<li><a class="reference internal" href="#le-module-os-path">Le module <strong>os.path</strong></a></li>
<li><a class="reference internal" href="#utilisation-du-caractere-joker">Utilisation du caractère &#8220;joker&#8221;</a></li>
<li><a class="reference internal" href="#des-fonctions-de-plus-haut-niveau">Des fonctions de plus haut niveau</a></li>
</ul>
</li>
<li><a class="reference internal" href="#les-sous-processus">Les (sous)processus</a></li>
<li><a class="reference internal" href="#le-module-platform">Le module <strong>platform</strong></a></li>
<li><a class="reference internal" href="#l-acces-a-internet-en-http">L&#8217;accès à Internet en http</a></li>
<li><a class="reference internal" href="#compression-des-donnees">Compression des données</a></li>
<li><a class="reference internal" href="#configparser-et-json"><strong>ConfigParser</strong> et <strong>json</strong></a></li>
<li><a class="reference internal" href="#mesure-des-performances">Mesure des performances</a></li>
<li><a class="reference internal" href="#le-module-math">Le module <strong>math</strong></a></li>
<li><a class="reference internal" href="#le-module-random">Le module <strong>random</strong></a></li>
<li><a class="reference internal" href="#les-expressions-rationnelles-ou-regulieres">Les expressions rationnelles (ou régulières)</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="objet.html"
                        title="previous chapter">L&#8217;approche objet</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="tests.html"
                        title="next chapter">Les tests</a></p>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="tests.html" title="Les tests"
             >next</a> |</li>
        <li class="right" >
          <a href="objet.html" title="L’approche objet"
             >previous</a> |</li>
        <li><a href="index.html">Introduction à la programmation en Python</a> &raquo;</li> 
      </ul>
    </div>
<div class="footer">
<a rel="license" href="http://creativecommons.org/licenses/by-nc-nd/3.0/fr/"><img alt="Licence Creative Commons" style="border-width:0" src="http://i.creativecommons.org/l/by-nc-nd/3.0/fr/80x15.png" /></a><br /><b>"Introduction à la programmation en Python"</b> de <span xmlns:cc="http://creativecommons.org/ns#" property="cc:attributionName">Christian Poli</span> est mis à disposition selon les termes de la <a rel="license" href="http://creativecommons.org/licenses/by-nc-nd/3.0/fr/">licence Creative Commons Attribution - Pas d’Utilisation Commerciale - Pas de Modification 3.0 France</a>.
</div>
   <script type="text/javascript">
     function show_sol(obj,e){
     if($(obj).attr('title')=='Show'){
       $('#tohide'+e).show();
       $(obj).attr('title','Hide');
       $(obj).text('Cacher la solution');
     } else {
       $('#tohide'+e).hide();
       $(obj).attr('title','Show');
       $(obj).text('Voir la solution');

     }
     my_obj=obj;
     
     };
     (function(){//websafe palette http://som.csudh.edu/fac/lpress/471/links/color/websafecolor.htm
     $(".myexercice.container pre").css('background-color','#ffff66')
     $(".tohide.container pre").css('background-color','#ffcc99')
     $(".tohide.container").hide().each(function(e){$(this).attr("id","tohide"+e);$(this).before("<button title='Show' class='sollink' onclick='show_sol(this,"+e+")'>Voir la solution</button><br/>");})
     })();
   </script>

  </body>
</html>